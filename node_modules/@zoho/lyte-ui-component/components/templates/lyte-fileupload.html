<template tag-name="lyte-fileupload">
	<input class="fileuploadInput {{ltPropClass}}" id = {{ltPropId}} type="file" name={{ltPropName}} onchange="{{action('change', event, this)}}" multiple={{ltPropMultiple}} accept={{ltPropAccept}}>
	<div tabindex={{ltPropTabindex}} 
	class="fileUploadWrapper {{fileClass}} {{if(ltPropMultiple, 'multiFileupload', 'singleFileUpload')}} lyteFileUpd{{ltPropAppearance}}Type {{if(ltPropDisabled,'lyteFileUpdDisabled')}} {{maxFileClass}}" 
	ondragenter="{{action('drag', event)}}" 
	ondragleave="{{action('drag', event)}}" 
	ondragover="{{action('drag', event)}}" 
	ondrop="{{action('drop', event)}}" 
	onclick="{{action('click', event)}}" 
	style="outline: none;" 
	onpaste = "{{action('paste', event)}}" 
	onkeydown="{{action( 'keydown', event)}}">
		<% if( ltPropYield ){ %>
			<lyte-yield yield-name = "file" queue-list = {{queueList}}  predefined-list ={{predefinedList}}></lyte-yield>
		<% }else{ %>
			<% if( ltPropMultiple ){%>
				<lyte-file-select-area role="button">
			 		<lyte-file-message class="lyteFileUpdMsgWrap"> <span class="lyteFileUpdMsg">{{lyteUiI18n(ltPropMessage,"fileupload")}}</span> </lyte-file-message>
				 </lyte-file-select-area>
				 <div class="lyteFileUpdList" role="list">
					<% predefinedList.forEach( function( item, index ){ %>
						<div class="lyteFileUpdListFile" tabindex="0" role="listitem">
							<div class="lyteFileUpdTypePreview">
								<% if(lyteUiImageFile(item)){ %>
										<img class="lyteFileUpdThumb" src={{item.src}}>
								<% } else{%>
									<span class="lyteFileUpdTypeIcon {{item.fileType}}"></span>
								<% } %>
							</div>
							<lyte-text class = "lyteFileUpdFileName" lt-prop-value = {{item.name}}></lyte-text>
							<span class="lyteFileUpdFileSize">( {{lyteUiFileSize(item.size, ltPropFileUnit, ltPropDigits)}} )</span>
							<!-- <div class="lyteFileUpdFileStatus" data-completed = {{item.percentage}}>
								<div class="lyteFileUpdProgressBar {{item.status}}">
									<div class="lyteFileUpdProgressFill" style="width: {{item.percentage}}%"></div>
								</div>
							</div> -->
							<lyte-file-close data-value = {{item.id}} role="button" aria-labelledby="{{ariaCloseLabel}}" class = {{item.status}}></lyte-file-close>
						</div>
					<% }) %>
				 	<% queueList.forEach( function( item, index ){ %>
				 		<div class="lyteFileUpdListFile {{item.status}}" tabindex="0" role="listitem">
				 			<div class="lyteFileUpdTypePreview">
					 			<% if(lyteUiImageFile(item)){ %>
					 					<img class="lyteFileUpdThumb" src={{item.src}}>
				 				<% } else{%>
				 					<span class="lyteFileUpdTypeIcon {{item.fileType}}"></span>
				 				<% } %>
			 				</div>
				 			<lyte-text class = "lyteFileUpdFileName" lt-prop-value = {{item.name}}></lyte-text>
							 <span class="lyteFileUpdFileSize">( {{lyteUiFileSize(item.size, ltPropFileUnit, ltPropDigits)}} )</span>
							 <%if(item.percentage != undefined){%>
								<div class="lyteFileUpdFileStatus" data-completed = {{item.percentage}}>
									<div class="lyteFileUpdProgressBar {{item.status}}">
										<div class="lyteFileUpdProgressFill" style="width: {{item.percentage}}%"></div>
									</div>
								</div>
				 			<%} if(item.status == "error" ){%>
				 				<lyte-file-retry data-value = {{item.id}}
								 role = "button">
									 <span class="lyteFileUpdFailMsg">{{lyteUiI18n(ltPropFailureMessage,"fileupload")}}</span>
									<%if(!ltPropUploadMultiple){%>
										<span class="lyteFileUpdRetryMsg">{{lyteUiI18n(ltPropRetryText,"fileupload")}}</span>
									<%}%>
				 				</lyte-file-retry>
							 <% } %>
							 <%if((!ltPropUploadMultiple) || ( !item.status || item.status == "error" || item.status == "success" )){%>
								<lyte-file-close tabindex="0" aria-labelledby="{{ariaCloseLabel}}" role = "button" data-value = {{item.id}} class = {{item.status}}></lyte-file-close>
							<% } %>
				 		</div>
				 	<% }) %>
				  </div>
			<% }else { %>
				<lyte-file-select-area>
			 		<lyte-file-message class="lyteFileUpdMsgWrap {{if((queueList.length || predefinedList.length), 'lyteHide', '')}}"> 
			 			<span class="lyteFileUpdMsg">
							{{lyteUiI18n(ltPropMessage,"fileupload")}}
			 			</span> 
			 		</lyte-file-message>
			 		 <div class="lyteFileUpdList" role="list">
						<% predefinedList.forEach( function( item, index ){ %>
							<div class="lyteFileUpdListFile" tabindex="0" role="listitem">
								<div class="lyteFileUpdTypePreview">
									<% if(lyteUiImageFile(item)){ %>
											<img class="lyteFileUpdThumb" src={{item.src}}>
									<% } else{%>
										<span class="lyteFileUpdTypeIcon {{item.fileType}}"></span>
									<% } %>
								</div>
								<lyte-text class = "lyteFileUpdFileName" lt-prop-value = {{item.name}}></lyte-text>
								<span class="lyteFileUpdFileSize">( {{lyteUiFileSize(item.size, ltPropFileUnit, ltPropDigits)}} )</span>
								<!-- <div class="lyteFileUpdFileStatus" data-completed = {{item.percentage}}>
									<div class="lyteFileUpdProgressBar {{item.status}}">
										<div class="lyteFileUpdProgressFill" style="width: {{item.percentage}}%"></div>
									</div>
								</div> -->
								<lyte-file-close data-value = {{item.id}} class = {{item.status}}
								aria-labelledby="{{ariaCloseLabel}}"  role = "button">
								</lyte-file-close>
							</div>
						<% }) %>
					 	<% queueList.forEach( function( item, index ){ %>
					 		<div class="lyteFileUpdListFile {{item.status}}" tabindex="0" role="listitem">
					 			<div class="lyteFileUpdTypePreview">
						 			<% if(lyteUiImageFile(item)){ %>
						 					<img class="lyteFileUpdThumb" src={{item.src}}>
					 				<% } else{%>
					 					<span class="lyteFileUpdTypeIcon {{item.fileType}}"></span>
					 				<% } %>
				 				</div>
					 			<lyte-text class = "lyteFileUpdFileName" lt-prop-value = {{item.name}}></lyte-text>
								<span class="lyteFileUpdFileSize">( {{lyteUiFileSize(item.size, ltPropFileUnit, ltPropDigits)}} )</span>
								<%if(item.percentage != undefined){%>
									<div class="lyteFileUpdFileStatus" data-completed = {{item.percentage}}>
										<div class="lyteFileUpdProgressBar {{item.status}}">
											<div class="lyteFileUpdProgressFill" style="width: {{item.percentage}}%"></div>
										</div>
									</div>
					 			<% }if(item.status == "error" ){%>
					 				<lyte-file-retry data-value = {{item.id}} role = "button">
					 					<span class="lyteFileUpdFailMsg">{{lyteUiI18n(ltPropFailureMessage,"fileupload")}}</span>
					 					<span class="lyteFileUpdRetryMsg">
											{{lyteUiI18n(ltPropRetryText,"fileupload")}}
										</span>
					 				</lyte-file-retry>
								<% } %>
								<lyte-file-close data-value = {{item.id}} 
								tabindex="0"
								class = {{item.status}}
								aria-labelledby="{{ariaCloseLabel}}" 
								role = "button">
								</lyte-file-close>
					 		</div>
					 	<% }) %>
					  </div>
				 </lyte-file-select-area>
			<% } %>
			 
		<% } %>
	</div>
</template>
