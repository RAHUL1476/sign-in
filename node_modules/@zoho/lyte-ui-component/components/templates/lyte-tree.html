<template tag-name="lyte-tree" role="treeitem">
  <% if(ltPropStructureType === "file"){ %>
  <% ltPropData.forEach(function(item, index){%>
  <div class="lyteTreeBodyDiv" role="group">
    <lyte-tree-body data-index="{{lyteUiTreeIndexHelp(indexVar, index)}}" class="{{lyteUiTreeClassHelp(item.defaultState,item.collapsed
          ,'lyteTreeBodyOpened','lyteTreeBodyClosed')}}" data-level="{{lyteUiTreeLevelHelp(indexVar, index)}}">
      <div class="mainContainer lyteTreeMainContainer {{lyteUiTreeChildHelp(item , ltPropLeafContainer , ltPropChildrenValue)}} {{lyteUiTreeHasChildHelp(item , ltPropChildrenValue)}} {{lyteTreeMaxChild(indexVar,index,ltPropMaxLevel)}}" role="{{lyteTreeAriaRole(item , ltPropChildrenValue)}}">
        <lyte-yield tabindex="{{lyteTreeAriaTabIndexHelp(indexVar, index)}}" collapsed="{{if(item.collapsed, 'collapsed', '')}}" yield-name="content" list-value={{item}} list-index="{{lyteUiTreeIndexHelp(indexVar, index)}}" class="{{lyteUiTreeChildHelp(item , ltPropLeafNodeClass , ltPropChildrenValue)}}"></lyte-yield>
        <% if(lyteUiTreeMaxLevelHelp(indexVar , index , ltPropMaxLevel)) {%>
        <%if(item[ltPropChildrenValue]["length"] !== 0 && item[ltPropChildrenValue] !== undefined && !item.collapsed){ %>
        <%if((!item.defaultState)||(item.defaultState === "open")){%>
        <lyte-tree class="lyteTreeOpened lyteTreeChildrenLevel" lt-prop-children-value={{ltPropChildrenValue}} index-var="{{lyteUiTreeIndexHelp(indexVar, index)}}" lt-prop-data={{item[ltPropChildrenValue]}} id="{{ltPropId}}" lt-prop-tree-lines={{ltPropTreeLines}}
          lt-prop-yield={{ltPropYield}} lt-prop-open-class={{ltPropOpenClass}} lt-prop-wrapper-open-class={{ltPropWrapperOpenClass}} lt-prop-leaf-node-class={{ltPropLeafNodeClass}} lt-prop-close-class={{ltPropCloseClass}} lt-prop-wrapper-close-class={{ltPropWrapperCloseClass}}
          lt-prop-max-level={{ltPropMaxLevel}} lt-prop-toggle-animation={{ltPropToggleAnimation}} on-toggle="{{method('onToggle')}}" on-toggle-end="{{method('onToggleEnd')}}">
          <template is="registerYield" yield-name="content" from-parent></template>
        </lyte-tree>
        <%} else if(item.defaultState === "close"){%>
        <lyte-tree class="lyteTreeClosed lyteTreeChildrenLevel" lt-prop-children-value={{ltPropChildrenValue}} index-var="{{lyteUiTreeIndexHelp(indexVar, index)}}" lt-prop-data={{item[ltPropChildrenValue]}} id="{{ltPropId}}" lt-prop-tree-lines={{ltPropTreeLines}}
          lt-prop-yield={{ltPropYield}} lt-prop-open-class={{ltPropOpenClass}} lt-prop-wrapper-open-class={{ltPropWrapperOpenClass}} lt-prop-leaf-node-class={{ltPropLeafNodeClass}} lt-prop-close-class={{ltPropCloseClass}} lt-prop-wrapper-close-class={{ltPropWrapperCloseClass}}
          lt-prop-max-level={{ltPropMaxLevel}} lt-prop-toggle-animation={{ltPropToggleAnimation}} on-toggle="{{method('onToggle')}}" on-toggle-end="{{method('onToggleEnd')}}">
          <template is="registerYield" yield-name="content" from-parent></template>
        </lyte-tree>
        <%}%>
        <%}%>
        <% } %>
      </div>
    </lyte-tree-body>
    <!-- <div class="lyteTreeAriaLive" aria-live="polite" lyte-if="{{ariaLiveBoolean}}">{{ariaLiveContent}}</div> -->
  </div>
  <%})%>
  <% } else if(ltPropStructureType === "data") { %>
  <div class="lyteDataTreeNodeWrap">
    <% if(dataType === "array"){ %>
    <div class="lyteDataTreeNode lyteDataTreeArrayNode {{if(lyteTreeArrayOpened, 'lyteDataTreeOpened', 'lyteDataTreeClosed')}}" lyte-if="{{!arrayOpened}}" onclick="{{action('openArray' , this)}}">
      <span>
        <!-- <span class="lyteDataTreeArrayOpenBracket">[</span> -->[
        <% ltPropArrayData.forEach(function(item, index){%>
        <% if(lyteTreeDataType(item) === "array") { %>
        <span class="test" style="text-transform:capitalize;">{{lyteTreeDataType(item)}}({{lyteTreeGetArrayLength(item)}})</span>
        <span class="lyteTreeComma">,</span>
        <% } else if(lyteTreeDataType(item) === "object") { %>
        <span>{...}</span>
        <span class="lyteTreeComma">,</span>
        <% } else if(lyteTreeDataType(item) === "string"){ %>
        <span class="lyteDataTreeNodeText">'{{item}}'</span>
        <span class="lyteTreeComma">,</span>
        <% } else if(lyteTreeDataType(item) === "number"){ %>
        <span>{{item}}</span>
        <span class="lyteTreeComma">,</span>
        <% } %>
        <% }) %>
        ]
        <!-- <span class="lyteDataTreeArrayCloseBracket">]</span> -->
      </span>
    </div>
    <div class="lyteDataTreeOpened" lyte-else onclick="{{action('openArray' , this)}}">
      <span>Array({{lyteTreeArrayLength}})</span>
    </div>

    <div class="lyteDataTreeNodeWrap" lyte-if="{{lyteTreeArrayOpened}}">
      <% ltPropArrayData.forEach(function(item, index){%>
      <% if(lyteTreeDataType(item) === "array") { %>
      <div class="lyteDataTreeNode lyteDataTreeArrayNode">
        <span class="lyteDataTreeIndex">{{index}}</span>
        <span>:</span>
        <div class="lyteDataTreeNodeContent">
          <lyte-tree class="lyteDataTreeSubLevel" lt-prop-structure-type="data" lt-prop-array-data={{item}} on-before-open="{{method('onBeforeOpen')}}" on-open="{{method('onOpen')}}" on-before-close="{{method('onBeforeClose')}}" on-close="{{'onClose'}}">
            <template is="registerYield" yield-name="content"></template>
          </lyte-tree>
        </div>
      </div>
      <% } else if(lyteTreeDataType(item) === "object") { %>
      <div class="lyteDataTreeNode lyteDataTreeObjectNode">
        <span class="lyteDataTreeIndex">{{index}}</span>
        <span>:</span>
        <div class="lyteDataTreeNodeContent">
          <lyte-tree class="lyteDataTreeSubLevel" lt-prop-structure-type="data" lt-prop-json-data={{item}} on-before-open="{{method('onBeforeOpen')}}" on-open="{{method('onOpen')}}" on-before-close="{{method('onBeforeClose')}}" on-close="{{'onClose'}}">
            <template is="registerYield" yield-name="content"></template>
          </lyte-tree>
        </div>
      </div>
      <% } else { %>
      <div class="lyteDataTreeNode">
        <span class="lyteDataTreeIndex">{{index}}</span>
        <span>:</span>
        <span class="lyteDataTreeNodeContent lyteDataTreeNodeText">{{item}}</span>
      </div>
      <% }%>
      <% }) %>
    </div>

    <% } if(dataType === "object") { %>
    <div class="lyteDataTreeNode lyteDataTreeObjectNode {{if(lyteTreeJsonOpened, 'lyteDataTreeOpened', 'lyteDataTreeClosed')}}" lyte-if="{{!jsonOpened}}" onclick="{{action('openJson' , this)}}">
      <span>{
        <% ltPropJsonData.forIn(function(value, key){%>
        <span>{{key}}</span>:
        <% if(lyteTreeDataType(value) === "array") { %>
        <span style="text-transform:capitalize;">{{lyteTreeDataType(value)}}({{lyteTreeGetArrayLength(value)}})</span>
        <span class="lyteTreeComma">,</span>
        <% } else if(lyteTreeDataType(value) === "object"){ %>
        <span>{...}</span>
        <span class="lyteTreeComma">,</span>
        <% } else if(lyteTreeDataType(value) === "string"){ %>
        <span class="lyteDataTreeNodeText">'{{value}}'</span>
        <span class="lyteTreeComma">,</span>
        <% } else if(lyteTreeDataType(value) === "number"){ %>
        <span class="lyteDataTreeNodeText">{{value}}</span>
        <span class="lyteTreeComma">,</span>
        <% } %>
        <% }) %>
        }</span>
    </div>

    <div class="lyteDataTreeOpened" lyte-else onclick="{{action('openJson' , this)}}">
      <span class="lyteDataTreeObjectTextLabel">Object</span>
    </div>

    <div class="lyteDataTreeNodeWrap" lyte-if="{{lyteTreeJsonOpened}}">
      <% ltPropJsonData.forIn(function(value, key){%>

      <% if(lyteTreeDataType(value) === "array") { %>
      <div class="lyteDataTreeNode lyteDataTreeArrayNode">
        <span class="lyteDataTreeIndex">{{key}}</span>
        <span>:</span>
        <div class="lyteDataTreeNodeContent">
          <lyte-tree class="lyteDataTreeSubLevel" lt-prop-structure-type="data" lt-prop-array-data={{value}} on-before-open="{{method('onBeforeOpen')}}" on-open="{{method('onOpen')}}" on-before-close="{{method('onBeforeClose')}}" on-close="{{'onClose'}}">
            <template is="registerYield" yield-name="content"></template>
          </lyte-tree>
        </div>
      </div>
      <% } else if(lyteTreeDataType(value) === "object"){ %>
      <div class="lyteDataTreeNode lyteDataTreeObjectNode">
        <span class="lyteDataTreeIndex">{{key}}</span>
        <span>:</span>
        <div class="lyteDataTreeNodeContent">
          <lyte-tree class="lyteDataTreeSubLevel" lt-prop-structure-type="data" lt-prop-json-data={{value}} on-before-open="{{method('onBeforeOpen')}}" on-open="{{method('onOpen')}}" on-before-close="{{method('onBeforeClose')}}" on-close="{{'onClose'}}">
            <template is="registerYield" yield-name="content"></template>
          </lyte-tree>
        </div>
      </div>
      <% } else if((lyteTreeDataType(value) === "string") || (lyteTreeDataType(value) === "number")){ %>
      <div class="lyteDataTreeNode">
        <span class="lyteDataTreeIndex">{{key}}</span>
        <span>:</span>
        <span class="lyteDataTreeNodeContent lyteDataTreeNodeText">{{value}}</span>
        <span class="lyteTreeComma testend">,</span>
      </div>
      <% } %>
      <% }) %>
    </div>
    <% } %>
  </div>
  <% } %>
</template>
