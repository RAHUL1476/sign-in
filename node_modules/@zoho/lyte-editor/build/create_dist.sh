main()
{
    WORK_DIR=`pwd`
    OUTPUT_DIR=${WORK_DIR}/mac_app/output
    export nodepath=/Users/ios_build/lyte_node/.nvm/versions/node/v9.0.0/
    export PATH=${nodepath}/bin:${PATH}
    export LYTE_PATH=${HOME}/lyte_version/v2/lyte-cli/
    CREATE_DIST
 
}
lyte_fetch_latest()
{
    if [ -d $LYTE_PATH ]
    then
        cd $LYTE_PATH
        git pull
    fi
}
CREATE_DIST()
{
    cd ${WORK_DIR}
    unzip -d LYTE_UI_DBUILD editor.zip
    mkdir -p ${WORK_DIR}/mac_app/output
    cd LYTE_UI_DBUILD
    node -v
    npm -v
    # npm install --registry http://integ-docker:4873 --production
    pwd
    ls
 
    # if ( exec '/Users/ios_build/lyte_version/v3.0.0-beta/node_modules/lyte-cli/bin/lyte' build --production )
    # then
    #     cp -r ${WORK_DIR}/LYTE_UI_DBUILD/dist ${OUTPUT_DIR}
    #     cd ${OUTPUT_DIR}
    #     zip -r lyte_page_builder.zip .
    # else
    #     echo "Lyte build failed"
    #     exit 1
    # fi

    npm pack
    cp -r *.tgz ${OUTPUT_DIR}
    cd ${OUTPUT_DIR}
    zip -r lyte_editor.zip .
 
}
main $*
