#$Id$
#Common Variables
product_name="LYTE_EDITOR"
product_version="1.0"
debug=on
optimize=off
depreciation=off
 
##########################################################################################
targetfull_order=checkout,exec,zip_creation
 
 
#########################################################################################
 
checkout_order=copytask:hgutil
hgutil_copytask=${basedir}/hg_utils/utility_packages,${build_dir}/utility_packages,**
#######################################################################################
####################       COMMON VARIABLES  #########################################
######################################################################################
 
build_dir=${basedir}/LYTE_EDITOR
pkg_dir=${build_dir}/pkg
prod_home=${pkg_dir}/RELEASE
mickeylite_home=${build_dir}/mickeylite/AdventNet/MickeyLite
source_basedir=${build_dir}/../..
jars_dir=${build_dir}/jars
tp_pkg=${build_dir}/thirdparty_packages
tp_src=${build_dir}/thirdparty_sources
int_pkg=${build_dir}/internal_packages
u_pkg=${build_dir}/utility_packages
rss_dir=${build_dir}/rss
classes_dir=${build_dir}/classes
java1_5_home=/usr/java/jdk1.5.0_01/bin/javac
output_dir=${build_dir}/output
#######################################################################################

exec_order=copytask:script,copytask:source,copytask:sourcejs,copytask:sourcejson,genzip:distsrczip,macpkgtask:run_build

######################################################################################

insbower_exec_dir=${build_dir}/lyte
insbower_exec_command=bower
insbower_exec_args=install --allow-root

script_copytask=${basedir},${source_basedir},create_dist.sh,,flatten
 
source_copytask=${source_basedir},${build_dir}/lyte,**,build/**

sourcejs_copytask=${basedir}/,${build_dir}/lyte/build,*.js

distsrczip_genzip=${build_dir}/editor.zip,${build_dir}/lyte/,.
 
sourcejson_copytask=${basedir}/,${build_dir}/lyte/build,*.json

run_build_macpkg_localsrc=${build_dir}/editor.zip
run_build_macpkg_remotesrc=WH_DIR/${day}/LYTE_EDITOR/${build_id}/editor.zip
run_build_macpkg_remotedest=WH_DIR/${day}/LYTE_EDITOR/${build_id}/mac_app/output/lyte_editor.zip
run_build_macpkg_localdest=${build_dir}/lyte_editor.zip
run_build_macpkg_host=integ-ios
run_build_macpkg_user=ios_build
run_build_macpkg_passwd=Iospas
run_build_macpkg_cmd=cd WH_DIR/${day}/LYTE_EDITOR/${build_id}; unzip -oj editor.zip create_dist.sh; sh -x create_dist.sh


#################################################################################################

zip_creation_order=unzip:buildzip,copytask:tar
# copytask:assets,ziptask:zipit

################################################################################################

buildzip_unzip_todir=${build_dir}/zip_extract
buildzip_unzip_srcdir=${build_dir}
buildzip_files_include=lyte_editor.zip

assets_copytask=${build_dir}/zip_extract/dist,${build_dir}/temp,**

tar_copytask=${build_dir}/zip_extract/,${output_dir}/,*.tgz

#design_copytask=${build_dir}/zip_extract/dist/lib/designMode,${build_dir}/temp/lib/designMode,**,,flatten

#jscopy_copytask=${build_dir}/zip_extract/dist,${build_dir}/temp,lyte-pagebuilder.js


zipit_execdir=${build_dir}/temp
zipit_zip_name=${output_dir}/lyte_editor.zip
zipit_dir_tozip=.
zipit_zip_exclude=
